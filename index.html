<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar Stitch | Energy Efficiency, Solar Installations & Bitzer VSD Compressor Retrofits</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prop-types@15/prop-types.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/recharts@2.12.7/umd/Recharts.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --black: #000000;
            --dark-gray: #2c2c2c;
            --mid-gray: #808080;
            --light-gray: #BDBDBD;
            --lighter-gray: #E5E5E5;
            --off-white: #F5F5F5;
            --white: #FFFFFF;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'Segoe UI', sans-serif;
            color: var(--dark-gray);
            background: var(--white);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: var(--white);
            z-index: 1000;
            border-bottom: 1px solid var(--lighter-gray);
            padding: 25px 0;
        }

        .nav-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-logo-text {
            display: flex;
            align-items: center;
            gap: 15px;
            text-decoration: none;
            cursor: pointer;
        }

        .nav-logo-solar {
            font-size: 1.5em;
            letter-spacing: 10px;
            color: var(--black);
            font-weight: 600;
        }

        .nav-logo-divider {
            width: 2px;
            height: 25px;
            background: var(--mid-gray);
        }

        .nav-logo-stitch {
            font-size: 1.5em;
            letter-spacing: 10px;
            color: var(--mid-gray);
            font-weight: 300;
        }

        .nav-links {
            display: flex;
            gap: 50px;
            list-style: none;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--mid-gray);
            font-size: 0.75em;
            letter-spacing: 3px;
            text-transform: uppercase;
            transition: color 0.3s;
            font-weight: 400;
            cursor: pointer;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--black);
        }

        /* Mobile Menu */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            justify-content: space-between;
            width: 28px;
            height: 20px;
            cursor: pointer;
            z-index: 1001;
        }

        .mobile-menu-toggle span {
            display: block;
            height: 2px;
            width: 100%;
            background: var(--black);
            transition: all 0.3s;
        }

        .mobile-menu-toggle.open span:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .mobile-menu-toggle.open span:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-toggle.open span:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        .mobile-nav-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--white);
            z-index: 999;
            padding-top: 100px;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
        }

        .mobile-nav-overlay.open {
            display: flex;
        }

        .mobile-nav-overlay ul {
            list-style: none;
            text-align: center;
        }

        .mobile-nav-overlay li {
            margin: 25px 0;
        }

        .mobile-nav-overlay a {
            font-size: 1.2em;
            letter-spacing: 4px;
            text-transform: uppercase;
            color: var(--mid-gray);
            text-decoration: none;
            cursor: pointer;
            transition: color 0.3s;
        }

        .mobile-nav-overlay a:hover,
        .mobile-nav-overlay a.active {
            color: var(--black);
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 150px 60px 100px;
            background: var(--white);
        }

        .hero-wordmark {
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 40px;
        }

        .hero-solar {
            font-size: 5em;
            letter-spacing: 25px;
            color: var(--black);
            font-weight: 600;
            line-height: 1;
        }

        .hero-divider {
            width: 4px;
            height: 80px;
            background: var(--mid-gray);
        }

        .hero-stitch {
            font-size: 5em;
            letter-spacing: 25px;
            color: var(--mid-gray);
            font-weight: 300;
            line-height: 1;
        }

        .hero-tagline {
            font-size: 1.1em;
            color: var(--mid-gray);
            letter-spacing: 6px;
            text-transform: uppercase;
            margin-bottom: 60px;
            font-weight: 300;
        }

        .hero-description {
            font-size: 1.3em;
            color: var(--dark-gray);
            max-width: 800px;
            line-height: 2;
            margin-bottom: 60px;
            font-weight: 300;
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .cta-button {
            padding: 20px 60px;
            background: var(--white);
            color: var(--black);
            text-decoration: none;
            letter-spacing: 4px;
            text-transform: uppercase;
            font-size: 0.75em;
            border: 2px solid var(--black);
            transition: all 0.3s;
            display: inline-block;
            font-weight: 500;
            cursor: pointer;
        }

        .cta-button:hover,
        .cta-button.primary {
            background: var(--black);
            color: var(--white);
        }

        .cta-button.primary:hover {
            background: var(--dark-gray);
        }

        /* Section Base Styles */
        section {
            padding: 120px 60px;
        }

        .section-title {
            font-size: 2em;
            font-weight: 300;
            letter-spacing: 15px;
            text-align: center;
            margin-bottom: 25px;
            color: var(--black);
            text-transform: uppercase;
        }

        .section-subtitle {
            text-align: center;
            color: var(--mid-gray);
            font-size: 1em;
            max-width: 700px;
            margin: 0 auto 80px;
            line-height: 2;
            letter-spacing: 1px;
            font-weight: 300;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* About Section */
        .about {
            background: var(--off-white);
        }

        .about-content {
            max-width: 900px;
            margin: 0 auto;
            text-align: center;
        }

        .about-text {
            font-size: 1.1em;
            line-height: 2.2;
            color: var(--dark-gray);
            font-weight: 300;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 40px;
            margin-top: 80px;
        }

        .stat-item {
            text-align: center;
            padding: 30px;
            border: 1px solid var(--lighter-gray);
            background: var(--white);
        }

        .stat-title {
            font-size: 0.7em;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--mid-gray);
            margin-bottom: 15px;
        }

        .stat-value {
            font-size: 1em;
            color: var(--black);
            font-weight: 500;
            letter-spacing: 1px;
        }

        /* Page Header */
        .page-header {
            padding: 180px 60px 100px;
            background: var(--dark-gray);
            text-align: center;
        }

        .page-header .section-title {
            color: var(--white);
            margin-bottom: 20px;
        }

        .page-header .section-subtitle {
            color: var(--light-gray);
            margin-bottom: 0;
        }

        /* Services Grid */
        .services-section {
            background: var(--white);
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
        }

        .service-card {
            padding: 50px 40px;
            border: 1px solid var(--lighter-gray);
            transition: all 0.3s;
        }

        .service-card:hover {
            border-color: var(--black);
        }

        .service-number {
            font-size: 0.75em;
            color: var(--light-gray);
            letter-spacing: 2px;
            margin-bottom: 25px;
        }

        .service-title {
            font-size: 1.1em;
            font-weight: 500;
            margin-bottom: 20px;
            letter-spacing: 2px;
            color: var(--black);
        }

        .service-desc {
            font-size: 0.9em;
            color: var(--mid-gray);
            line-height: 1.9;
            font-weight: 300;
        }

        /* Projects Grid */
        .projects-section {
            background: var(--white);
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 40px;
        }

        .project-card {
            padding: 60px 50px;
            border: 1px solid var(--lighter-gray);
            transition: all 0.3s;
        }

        .project-card:hover {
            border-color: var(--black);
        }

        .project-card.featured {
            grid-column: span 2;
            background: var(--dark-gray);
            border-color: var(--dark-gray);
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }

        .project-card.featured:hover {
            background: #333;
        }

        .project-number {
            font-size: 0.75em;
            color: var(--light-gray);
            letter-spacing: 2px;
            margin-bottom: 25px;
        }

        .project-card.featured .project-number {
            color: var(--mid-gray);
        }

        .project-title {
            font-size: 1.3em;
            font-weight: 500;
            margin-bottom: 20px;
            letter-spacing: 3px;
            color: var(--black);
        }

        .project-card.featured .project-title {
            color: var(--white);
        }

        .project-desc {
            font-size: 0.95em;
            color: var(--mid-gray);
            line-height: 2;
            font-weight: 300;
        }

        .project-card.featured .project-desc {
            color: var(--light-gray);
        }

        .project-features {
            list-style: none;
            margin-top: 30px;
        }

        .project-features li {
            padding: 12px 0;
            border-bottom: 1px solid var(--lighter-gray);
            font-size: 0.85em;
            color: var(--dark-gray);
            letter-spacing: 0.5px;
        }

        .project-card.featured .project-features li {
            border-bottom-color: #444;
            color: var(--light-gray);
        }

        /* Featured Project Visual */
        .featured-visual {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .visual-box {
            background: #3a3a3a;
            padding: 35px;
            text-align: center;
        }

        .visual-box-label {
            font-size: 0.65em;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--mid-gray);
            margin-bottom: 12px;
        }

        .visual-box-value {
            font-size: 1.8em;
            font-weight: 300;
            letter-spacing: 2px;
            color: var(--white);
        }

        .visual-box-desc {
            font-size: 0.75em;
            color: var(--light-gray);
            margin-top: 8px;
        }

        /* FAQ Section */
        .faq-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .faq-item {
            padding: 30px;
            background: var(--white);
            border: 1px solid var(--lighter-gray);
        }

        .faq-question {
            font-size: 1em;
            font-weight: 500;
            margin-bottom: 15px;
            letter-spacing: 1px;
            color: var(--black);
        }

        .faq-answer {
            font-size: 0.9em;
            color: var(--mid-gray);
            line-height: 1.8;
            font-weight: 300;
        }

        /* Calculator Page */
        .calculator-input-group {
            margin-bottom: 24px;
        }

        .calculator-input-group label {
            display: block;
            font-size: 0.7em;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--mid-gray);
            margin-bottom: 10px;
            font-weight: 500;
        }

        .calculator-input {
            width: 100%;
            padding: 16px 20px;
            font-size: 1.1em;
            border: 1px solid var(--lighter-gray);
            background: var(--white);
            color: var(--black);
            font-family: inherit;
            transition: border-color 0.3s;
        }

        .calculator-input:focus {
            outline: none;
            border-color: var(--black);
        }

        .calculator-input::placeholder {
            color: var(--light-gray);
        }

        .calculator-toggle-group {
            display: flex;
            gap: 0;
            border: 1px solid var(--lighter-gray);
        }

        .calculator-toggle {
            flex: 1;
            padding: 16px 20px;
            font-size: 0.75em;
            letter-spacing: 2px;
            text-transform: uppercase;
            border: none;
            background: var(--white);
            color: var(--mid-gray);
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
            font-weight: 500;
        }

        .calculator-toggle:not(:last-child) {
            border-right: 1px solid var(--lighter-gray);
        }

        .calculator-toggle.active {
            background: var(--black);
            color: var(--white);
        }

        .calculator-toggle:hover:not(.active) {
            background: var(--off-white);
        }

        .calculator-checkbox {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            font-size: 0.9em;
            color: var(--dark-gray);
        }

        .calculator-checkbox input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: var(--black);
            cursor: pointer;
        }

        .calculator-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .calculator-result-card {
            padding: 40px 30px;
            background: var(--white);
            border: 1px solid var(--lighter-gray);
            text-align: center;
            transition: border-color 0.3s;
        }

        .calculator-result-card:hover {
            border-color: var(--black);
        }

        .calculator-result-label {
            font-size: 0.7em;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--mid-gray);
            margin-bottom: 15px;
        }

        .calculator-result-value {
            font-size: 3em;
            font-weight: 300;
            color: var(--black);
            letter-spacing: 2px;
        }

        .calculator-result-unit {
            font-size: 0.9em;
            color: var(--mid-gray);
            margin-top: 5px;
            letter-spacing: 1px;
        }

        .calculator-result-detail {
            font-size: 0.85em;
            color: var(--light-gray);
            margin-top: 15px;
            font-weight: 300;
        }

        /* Contact Section */
        .contact {
            background: var(--white);
        }

        .contact-info {
            display: flex;
            justify-content: center;
            gap: 100px;
            flex-wrap: wrap;
        }

        .contact-item {
            text-align: center;
        }

        .contact-label {
            font-size: 0.7em;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--mid-gray);
            margin-bottom: 15px;
        }

        .contact-value a {
            font-size: 1.1em;
            color: var(--black);
            text-decoration: none;
            letter-spacing: 1px;
            transition: color 0.3s;
        }

        .contact-value a:hover {
            color: var(--mid-gray);
        }

        /* CTA Banner */
        .cta-banner {
            background: var(--off-white);
            text-align: center;
            padding: 80px 60px;
        }

        .cta-banner p {
            font-size: 1.2em;
            color: var(--dark-gray);
            margin-bottom: 30px;
            letter-spacing: 1px;
            font-weight: 300;
        }

        /* Footer */
        footer {
            background: var(--black);
            color: var(--mid-gray);
            text-align: center;
            padding: 60px;
            font-size: 0.75em;
            letter-spacing: 2px;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .nav-links {
                gap: 30px;
            }

            .hero-solar, .hero-stitch {
                font-size: 3em;
                letter-spacing: 15px;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .services-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .faq-grid {
                grid-template-columns: 1fr;
            }

            .projects-grid {
                grid-template-columns: 1fr;
            }

            .project-card.featured {
                grid-column: span 1;
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            section {
                padding: 80px 30px;
            }

            .nav-content {
                padding: 0 30px;
            }

            .nav-links {
                display: none;
            }

            .mobile-menu-toggle {
                display: flex;
            }

            .hero {
                padding: 120px 30px 80px;
            }

            .hero-wordmark {
                flex-direction: column;
                gap: 20px;
            }

            .hero-divider {
                width: 60px;
                height: 3px;
            }

            .hero-solar, .hero-stitch {
                font-size: 2.5em;
                letter-spacing: 12px;
            }

            .section-title {
                font-size: 1.5em;
                letter-spacing: 10px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .services-grid {
                grid-template-columns: 1fr;
            }

            .contact-info {
                flex-direction: column;
                gap: 40px;
            }

            .page-header {
                padding: 140px 30px 60px;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function App() {
            const [currentPage, setCurrentPage] = useState('home');

            const navigateTo = (page) => {
                setCurrentPage(page);
                window.scrollTo(0, 0);
            };

            return (
                <div>
                    <Navigation currentPage={currentPage} navigateTo={navigateTo} />
                    {currentPage === 'home' && <HomePage navigateTo={navigateTo} />}
                    {currentPage === 'services' && <ServicesPage navigateTo={navigateTo} />}
                    {currentPage === 'projects' && <ProjectsPage navigateTo={navigateTo} />}
                    {currentPage === 'example' && <ExampleAnalysisPage navigateTo={navigateTo} />}
                    {currentPage === 'calculator' && <CalculatorPage navigateTo={navigateTo} />}
                    <Footer />
                </div>
            );
        }

        function Navigation({ currentPage, navigateTo }) {
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

            const handleNavigate = (page) => {
                navigateTo(page);
                setMobileMenuOpen(false);
            };

            const navItems = [
                { page: 'home', label: 'Home' },
                { page: 'services', label: 'Services' },
                { page: 'projects', label: 'What We Do' },
                { page: 'example', label: 'Example Analysis' },
                { page: 'calculator', label: 'Calculator' },
                { page: 'home', label: 'Contact', isContact: true }
            ];

            return (
                <nav>
                    <div className="nav-content">
                        <a className="nav-logo-text" onClick={() => handleNavigate('home')}>
                            <span className="nav-logo-solar">SOLAR</span>
                            <span className="nav-logo-divider"></span>
                            <span className="nav-logo-stitch">STITCH</span>
                        </a>
                        <ul className="nav-links">
                            {navItems.map((item, i) => (
                                <li key={i}>
                                    <a
                                        onClick={() => handleNavigate(item.page)}
                                        className={!item.isContact && currentPage === item.page ? 'active' : ''}
                                    >
                                        {item.label}
                                    </a>
                                </li>
                            ))}
                        </ul>
                        <div
                            className={`mobile-menu-toggle ${mobileMenuOpen ? 'open' : ''}`}
                            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
                        >
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                    <div className={`mobile-nav-overlay ${mobileMenuOpen ? 'open' : ''}`}>
                        <ul>
                            {navItems.map((item, i) => (
                                <li key={i}>
                                    <a
                                        onClick={() => handleNavigate(item.page)}
                                        className={!item.isContact && currentPage === item.page ? 'active' : ''}
                                    >
                                        {item.label}
                                    </a>
                                </li>
                            ))}
                        </ul>
                    </div>
                </nav>
            );
        }

        /* ===== HOME PAGE ===== */
        function HomePage({ navigateTo }) {
            return (
                <div>
                    <Hero navigateTo={navigateTo} />
                    <AboutSolarStitch />
                    <EnergyWasteProblem navigateTo={navigateTo} />
                    <FAQ />
                    <Contact />
                </div>
            );
        }

        function Hero({ navigateTo }) {
            return (
                <section className="hero">
                    <div className="hero-wordmark">
                        <span className="hero-solar">SOLAR</span>
                        <span className="hero-divider"></span>
                        <span className="hero-stitch">STITCH</span>
                    </div>
                    <p className="hero-tagline">Stitch. Optimize. Power.</p>
                    <p className="hero-description">
                        Your freezers, air conditioners, and cooling systems are wasting energy. We fix that.<br />
                        Whether you're running on solar, the grid, or generators, we help you save money through smart energy management, efficient equipment retrofits, and optimized systems.
                    </p>
                    <div className="hero-buttons">
                        <a className="cta-button primary" href="mailto:admin@solarstitch.co.za">Get a Free Energy Audit</a>
                        <a className="cta-button" onClick={() => navigateTo('projects')}>Learn About Bitzer Retrofits</a>
                        <a className="cta-button" href="mailto:admin@solarstitch.co.za">Talk to Our Team</a>
                    </div>
                </section>
            );
        }

        function AboutSolarStitch() {
            return (
                <section className="about" id="about">
                    <div className="container">
                        <h2 className="section-title">ABOUT SOLAR STITCH</h2>
                        <div className="about-content">
                            <p className="about-text">
                                We're a team of energy professionals—electrical engineers, electronic engineers, and seasoned business leaders—with over 20 years of experience across solar, refrigeration, metering, and energy management.
                            </p>
                            <p className="about-text" style={{marginTop: '25px'}}>
                                We spotted a problem: Most businesses waste thousands every month on inefficient cooling and air conditioning. Traditional solar installations ignore this. We don't.
                            </p>
                            <p className="about-text" style={{marginTop: '25px'}}>
                                Our focus is simple: Help Cape Town and Bloemfontein businesses and homeowners cut energy costs through smarter, more efficient systems. Whether it's a small home, a strip mall, a restaurant with a walk-in freezer, or a supermarket, we measure the waste, design the solution, and install it.
                            </p>
                            <p className="about-text" style={{marginTop: '25px'}}>
                                We're ABB-trained, metering experts, and specialists in making cooling systems work efficiently with solar, backup power, and grid energy. We're also honest—we'll tell you if you don't need something, and we'll prioritize your wallet.
                            </p>
                            <p className="about-text" style={{marginTop: '40px', fontWeight: '500', letterSpacing: '2px'}}>
                                Stitch. Optimize. Power.
                            </p>
                        </div>
                    </div>
                </section>
            );
        }

        function EnergyWasteProblem({ navigateTo }) {
            return (
                <section className="services-section" id="energy-waste">
                    <div className="container">
                        <h2 className="section-title">THE ENERGY WASTE PROBLEM</h2>
                        <p className="section-subtitle">
                            Freezers, air conditioners, and cooling systems are one of the biggest energy drains in homes and businesses. A single walk-in freezer can use as much power as ten homes.
                        </p>
                        <p className="section-subtitle" style={{marginTop: '-40px'}}>
                            The worse part? Most systems are sized too conservatively, run inefficiently, or start up with massive power surges that make solar integration expensive or impossible.
                        </p>

                        <h3 className="section-title" style={{fontSize: '1.5em', marginTop: '60px'}}>WHAT WE DO</h3>
                        <p className="section-subtitle">We specialize in three core areas:</p>

                        <div className="services-grid">
                            <div className="service-card">
                                <div className="service-number">01</div>
                                <h3 className="service-title">Smart Energy Management</h3>
                                <p className="service-desc">
                                    Real-time metering and monitoring to see exactly where your money is going. Then we fix it.
                                </p>
                            </div>
                            <div className="service-card">
                                <div className="service-number">02</div>
                                <h3 className="service-title">Cooling System Optimization</h3>
                                <p className="service-desc">
                                    From retrofit design to installation, we make your freezers and air conditioning units efficient, solar-friendly, and cost-effective.
                                </p>
                            </div>
                            <div className="service-card">
                                <div className="service-number">03</div>
                                <h3 className="service-title">Complete Solar Integration</h3>
                                <p className="service-desc">
                                    Professional solar installations designed to work with your real energy needs—not just the panels, but the whole system.
                                </p>
                            </div>
                        </div>

                        <div className="about-content" style={{marginTop: '60px'}}>
                            <p className="about-text">
                                Our team brings 20+ years of experience in refrigeration, solar, electrical engineering, and energy management. We understand your systems. We speak your language. And we know how to save you money.
                            </p>
                        </div>

                        <div className="stats-grid" style={{marginTop: '60px'}}>
                            <div className="stat-item">
                                <div className="stat-title">Solar Partners</div>
                                <div className="stat-value">Victron & SolarMD</div>
                            </div>
                            <div className="stat-item">
                                <div className="stat-title">VSD Control</div>
                                <div className="stat-value">ABB & <a href="https://www.bitzer.de/za/en/" target="_blank" rel="noopener noreferrer" style={{color: 'inherit', textDecoration: 'underline'}}>Bitzer</a></div>
                            </div>
                            <div className="stat-item">
                                <div className="stat-title">Data & Metering</div>
                                <div className="stat-value">Phy Engineering</div>
                            </div>
                            <div className="stat-item">
                                <div className="stat-title">Response</div>
                                <div className="stat-value">2-4 Hour Emergency</div>
                            </div>
                        </div>
                    </div>
                </section>
            );
        }

        function FAQ() {
            const faqs = [
                {
                    question: "Why choose a startup?",
                    answer: "We're new, but our team isn't. We bring 20+ years of experience in energy, refrigeration, and solar. We're focused on doing one thing really well—solving your energy waste problem—rather than being a generalist solar company. Plus, you get personalized service. You're not just a ticket number."
                },
                {
                    question: "What if I need emergency support?",
                    answer: "We offer 2-4 hour emergency response for critical failures. If your freezer goes down or your air con fails, we prioritize it."
                },
                {
                    question: "How do I know you can actually help?",
                    answer: "We'll do a free consultation and energy audit. We'll show you exactly where your energy waste is, what's causing it, and what solutions make sense for your budget. No pressure, no sales pitch."
                },
                {
                    question: "Can you retrofit my existing compressor?",
                    answer: "Probably. Bitzer retrofits work for most commercial refrigeration systems. We'll assess your equipment and let you know what's possible."
                },
                {
                    question: "How long does an installation take?",
                    answer: "It depends on your system size and complexity. A retrofit might take a few days. A solar install could be 1-2 weeks. We'll give you a timeline after the initial assessment."
                },
                {
                    question: "Where do you operate?",
                    answer: "We're based in Cape Town with a branch in Bloemfontein. We service both regions and can discuss other areas on a case-by-case basis."
                },
                {
                    question: "What's your warranty?",
                    answer: "We stand behind our work. Specific warranties depend on the component and service—we'll detail this clearly in your quote."
                },
                {
                    question: "Do you only do solar?",
                    answer: "No. We specialize in cooling and air conditioning efficiency, energy optimization, and metering. Solar is part of the solution, but not the whole story."
                },
                {
                    question: "How much does this cost?",
                    answer: "Every system is different. After a free assessment, we'll provide a detailed quote with options. We work with budgets from small homes to large commercial facilities."
                },
                {
                    question: "Can I see examples of your work?",
                    answer: "We're early-stage, so our portfolio is still growing. But our team's experience speaks for itself. We're happy to share technical details, explain how our systems work, or connect you with ABB and Bitzer for technical validation."
                },
                {
                    question: "How do you avoid wasting my time?",
                    answer: "We're selective about projects. We only take on work we're confident we can do well. If your project isn't right for us, we'll tell you honestly."
                }
            ];

            return (
                <section className="about" id="faq">
                    <div className="container">
                        <h2 className="section-title">FREQUENTLY ASKED QUESTIONS</h2>
                        <div className="faq-grid">
                            {faqs.map((faq, index) => (
                                <div className="faq-item" key={index}>
                                    <h4 className="faq-question">{faq.question}</h4>
                                    <p className="faq-answer">{faq.answer}</p>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        }

        function Contact() {
            return (
                <section className="contact" id="contact">
                    <div className="container">
                        <h2 className="section-title">CONTACT</h2>
                        <p className="section-subtitle">
                            Ready to cut your energy costs? Let's talk.
                        </p>

                        <div className="hero-buttons" style={{justifyContent: 'center', marginBottom: '60px'}}>
                            <a className="cta-button primary" href="mailto:admin@solarstitch.co.za">Get a Free Energy Audit</a>
                            <a className="cta-button" onClick={() => document.getElementById('projects') && window.scrollTo(0,0)}>Learn About Bitzer Retrofits</a>
                            <a className="cta-button" href="mailto:admin@solarstitch.co.za">Talk to Our Team</a>
                        </div>

                        <div className="contact-info">
                            <div className="contact-item">
                                <div className="contact-label">Email</div>
                                <div className="contact-value">
                                    <a href="mailto:admin@solarstitch.co.za">admin@solarstitch.co.za</a>
                                </div>
                            </div>
                            <div className="contact-item">
                                <div className="contact-label">Response Time</div>
                                <div className="contact-value">
                                    <span style={{color: 'var(--black)', letterSpacing: '1px'}}>Within 24 hours (usually much faster)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            );
        }

        /* ===== SERVICES PAGE ===== */
        function ServicesPage({ navigateTo }) {
            const serviceCategories = [
                {
                    category: "ENERGY MONITORING & AUDIT",
                    services: [
                        { title: "Remote Monitoring (24/7)", description: "Real-time system surveillance. Proactive fault detection. Automated alerts. Performance tracking around the clock." },
                        { title: "System Health Checks", description: "Comprehensive diagnostics across every component. Thermal imaging. Connection integrity testing. Inverter analysis." },
                        { title: "Energy Audits & Site Assessments", description: "Complete energy analysis. Load profile mapping. Identify waste. Detailed reporting with recommendations." },
                        { title: "Monthly Performance Reports", description: "Branded reports with usage data, sustainability metrics, and efficiency insights delivered to your inbox." }
                    ]
                },
                {
                    category: "COOLING & AIR CON OPTIMIZATION",
                    services: [
                        { title: "Bitzer VSD Compressor Retrofits", description: "Our specialty. Replace traditional compressors with efficient VSD-controlled systems for solar compatibility." },
                        { title: "Cooling System Efficiency Analysis", description: "Assess your refrigeration and air conditioning units. Identify inefficiencies. Design optimization solutions." },
                        { title: "Refrigerant System Troubleshooting", description: "Diagnose and repair cooling system issues. Temperature problems. Efficiency optimization. All commercial systems." }
                    ]
                },
                {
                    category: "SOLAR INSTALLATION & SETUP",
                    services: [
                        { title: "Solar System Design & Installation", description: "Complete grid-tied, off-grid, and hybrid solar systems. Site assessment to commissioning." },
                        { title: "Battery Integration & Setup", description: "Lithium and lead-acid battery systems. Proper sizing, installation, and configuration." },
                        { title: "Panel Installation & Commissioning", description: "Professional mounting. Electrical work. Optimiser setup. Full system commissioning." },
                        { title: "Remote Monitoring Portal Setup", description: "VRM portal access. Cloud connectivity. API integrations. Real-time visibility." }
                    ]
                },
                {
                    category: "MAINTENANCE & REPAIRS",
                    services: [
                        { title: "Inverter Repairs & Diagnostics", description: "Fault diagnosis. Component replacement. Firmware troubleshooting. All major brands supported." },
                        { title: "Battery Maintenance & Testing", description: "State of health checks. Cell balancing. Terminal cleaning. Capacity testing." },
                        { title: "Panel Cleaning & Thermal Imaging", description: "Professional cleaning. Dust and debris removal. Thermal imaging inspections. Performance comparison." },
                        { title: "Electrical Repairs & Surge Protection", description: "DC and AC wiring issues. Isolator replacements. Surge protection. Earth fault resolution. COC compliance." },
                        { title: "Firmware Updates & System Optimization", description: "Remote and on-site updates. Battery BMS updates. Performance tuning. Load setting adjustments." },
                        { title: "Communications & Connectivity Fixes", description: "WiFi and cellular gateway issues. Data logger repairs. Cloud connectivity troubleshooting." }
                    ]
                },
                {
                    category: "EMERGENCY & ONGOING SUPPORT",
                    services: [
                        { title: "24/7 Emergency Response", description: "2-4 hour response for critical failures. After-hours support. Fault isolation. Keep your systems running." },
                        { title: "Monthly Maintenance Plans", description: "Scheduled preventative maintenance. Priority support. Regular inspections. Peace of mind." },
                        { title: "Ad-hoc Services & Custom Projects", description: "One-off troubleshooting. System upgrades and expansions. Consultation and feasibility studies. Quoted per project." }
                    ]
                }
            ];

            return (
                <div>
                    <div className="page-header">
                        <h1 className="section-title">SERVICES</h1>
                        <p className="section-subtitle">
                            Comprehensive energy solutions—from monitoring and optimization to installation and emergency support
                        </p>
                    </div>

                    {serviceCategories.map((cat, catIndex) => (
                        <section className="services-section" key={catIndex} style={{paddingTop: catIndex === 0 ? '120px' : '60px', paddingBottom: '60px', background: catIndex % 2 === 0 ? 'var(--white)' : 'var(--off-white)'}}>
                            <div className="container">
                                <h3 className="section-title" style={{fontSize: '1.3em', marginBottom: '50px'}}>{cat.category}</h3>
                                <div className="services-grid">
                                    {cat.services.map((service, index) => (
                                        <div className="service-card" key={index} style={{background: catIndex % 2 === 0 ? 'var(--white)' : 'var(--off-white)'}}>
                                            <h3 className="service-title">{service.title}</h3>
                                            <p className="service-desc">{service.description}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </section>
                    ))}

                    <div className="cta-banner">
                        <p>Need help with your energy system? Get in touch for a free consultation.</p>
                        <div className="hero-buttons" style={{justifyContent: 'center', marginTop: '20px'}}>
                            <a className="cta-button primary" href="mailto:admin@solarstitch.co.za">Get a Free Energy Audit</a>
                            <a className="cta-button" href="mailto:admin@solarstitch.co.za">Talk to Our Team</a>
                        </div>
                    </div>
                </div>
            );
        }

        /* ===== WHAT WE DO PAGE (formerly Projects) ===== */
        function ProjectsPage({ navigateTo }) {
            return (
                <div>
                    <div className="page-header">
                        <h1 className="section-title">WHAT WE DO</h1>
                        <p className="section-subtitle">
                            SPECIALIZED: Bitzer VSD Compressor Retrofits<br />
                            CORE SERVICES: Solar Installation | System Optimization | Maintenance & Monitoring
                        </p>
                    </div>

                    <section className="projects-section">
                        <div className="container">
                            <div className="projects-grid">

                                {/* Featured: Bitzer Compressor Retrofit */}
                                <div className="project-card featured">
                                    <div>
                                        <div className="project-number">OUR SPECIALTY</div>
                                        <h3 className="project-title"><a href="https://www.bitzer.de/za/en/" target="_blank" rel="noopener noreferrer" style={{color: 'inherit', textDecoration: 'none'}}>BITZER</a> VSD COMPRESSOR RETROFITS</h3>
                                        <p className="project-desc">
                                            <strong>The Problem:</strong> Your traditional refrigeration compressor (in that freezer or air con unit) draws 6-8× its normal current when it starts up. This "inrush current" is a killer for solar systems—it requires an oversized, expensive inverter just to handle the startup.
                                        </p>
                                        <p className="project-desc">
                                            <strong>The Solution:</strong> We retrofit your existing compressor with <a href="https://www.bitzer.de/za/en/" target="_blank" rel="noopener noreferrer" style={{color: 'inherit', textDecoration: 'underline'}}>Bitzer</a> equipment and ABB Variable Speed Drives. The VSD provides a smooth, intelligent ramp-up—using only 2-3× running current instead of 6-8×. No massive startup surge.
                                        </p>
                                        <p className="project-desc">
                                            <strong>The Result:</strong>
                                        </p>
                                        <ul className="project-features">
                                            <li>Your freezer or air con now runs efficiently on solar</li>
                                            <li>You need a smaller, cheaper inverter</li>
                                            <li>The VSD modulates speed, cutting energy use by 20-40%</li>
                                            <li>You save money from day one</li>
                                        </ul>
                                        <p className="project-desc" style={{marginTop: '20px'}}>
                                            <strong>Who benefits?</strong> Strip malls with multiple freezers. Supermarkets. Restaurants with walk-in coolers. Cold storage facilities. Butcheries. Office buildings with large air con loads. Homes with solar and air conditioning.
                                        </p>
                                        <p className="project-desc" style={{marginTop: '15px', fontStyle: 'italic'}}>
                                            Every retrofit is custom-designed for your specific system. Get in touch for a consultation.
                                        </p>
                                    </div>
                                    <div className="featured-visual">
                                        <div className="visual-box">
                                            <div className="visual-box-label">Startup Current</div>
                                            <div className="visual-box-value">2-3× vs 6-8×</div>
                                            <div className="visual-box-desc">VSD soft-start vs traditional</div>
                                        </div>
                                        <div className="visual-box">
                                            <div className="visual-box-label">Inverter Reduction</div>
                                            <div className="visual-box-value">Up to 60%</div>
                                            <div className="visual-box-desc">Smaller inverter, same cooling</div>
                                        </div>
                                        <div className="visual-box">
                                            <div className="visual-box-label">Energy Savings</div>
                                            <div className="visual-box-value">20-40%</div>
                                            <div className="visual-box-desc">VSD speed control efficiency</div>
                                        </div>
                                    </div>
                                </div>

                                {/* Core Service 1: Solar Installation */}
                                <div className="project-card">
                                    <div className="project-number">CORE SERVICE 1</div>
                                    <h3 className="project-title">SOLAR INSTALLATION</h3>
                                    <p className="project-desc">
                                        From concept to commissioning, we design and install complete solar systems—grid-tied, off-grid, or hybrid. We use proven equipment (Victron, SolarMD) and configure everything to actually work with your real-world energy use.
                                    </p>
                                    <p className="project-desc">
                                        We handle professional mounting, electrical work, inverter setup, battery integration, and full commissioning. Everything gets monitored and optimized.
                                    </p>
                                    <ul className="project-features">
                                        <li>Site assessment & load analysis</li>
                                        <li>Custom system design</li>
                                        <li>Professional installation</li>
                                        <li>Battery integration (lithium & lead-acid)</li>
                                        <li>Metering & energy analytics via Phy Engineering</li>
                                        <li>Remote monitoring setup</li>
                                        <li>Warranty & ongoing support</li>
                                    </ul>
                                </div>

                                {/* Core Service 2: Energy Optimization & Metering */}
                                <div className="project-card">
                                    <div className="project-number">CORE SERVICE 2</div>
                                    <h3 className="project-title">ENERGY OPTIMIZATION & METERING</h3>
                                    <p className="project-desc">
                                        We measure your energy use, identify waste, and fix it. Our advanced metering tells you exactly where your money is going—then we design solutions to cut it.
                                    </p>
                                    <p className="project-desc">
                                        This might mean upgrading your cooling system, retrofitting your compressor, adjusting your load profile, or optimizing your solar setup.
                                    </p>
                                    <ul className="project-features">
                                        <li>24/7 remote monitoring & performance tracking</li>
                                        <li>Advanced metering & energy analytics</li>
                                        <li>Load profile analysis</li>
                                        <li>System diagnostics & efficiency audits</li>
                                        <li>Performance optimization & firmware updates</li>
                                        <li>Emergency support (2-4 hour response)</li>
                                    </ul>
                                </div>

                                {/* Core Service 3: System Maintenance & Repair */}
                                <div className="project-card" style={{gridColumn: 'span 2'}}>
                                    <div className="project-number">CORE SERVICE 3</div>
                                    <h3 className="project-title">SYSTEM MAINTENANCE & REPAIR</h3>
                                    <p className="project-desc">
                                        We keep your solar, cooling, and energy systems running smoothly. Preventative maintenance, emergency repairs, or one-off troubleshooting—we've got you covered.
                                    </p>
                                    <div style={{display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '20px', marginTop: '20px'}}>
                                        <ul className="project-features">
                                            <li>Inverter diagnostics & repair</li>
                                            <li>Battery health checks</li>
                                            <li>Panel cleaning & thermal imaging</li>
                                            <li>Cooling system troubleshooting</li>
                                        </ul>
                                        <ul className="project-features">
                                            <li>Electrical repairs & surge protection</li>
                                            <li>Communications & monitoring setup</li>
                                            <li>Firmware updates</li>
                                            <li>All major brands supported</li>
                                        </ul>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </section>

                    <div className="cta-banner">
                        <p>Ready to cut your energy costs? Get in touch for a free consultation.</p>
                        <div className="hero-buttons" style={{justifyContent: 'center', marginTop: '20px'}}>
                            <a className="cta-button primary" href="mailto:admin@solarstitch.co.za">Get a Free Energy Audit</a>
                            <a className="cta-button" href="mailto:admin@solarstitch.co.za">Talk to Our Team</a>
                        </div>
                    </div>
                </div>
            );
        }

        /* ===== EXAMPLE ANALYSIS PAGE ===== */
        function ExampleAnalysisPage({ navigateTo }) {
            const { useState, useMemo } = React;
            const { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, AreaChart, Area, BarChart, Bar, ComposedChart } = Recharts;

            const [viewMode, setViewMode] = useState('summer');
            const [showPPA, setShowPPA] = useState(true);
            const [dayType, setDayType] = useState('weekday');

            const colors = {
                primary: '#1a1a1a',
                secondary: '#666666',
                light: '#999999',
                background: '#f8f8f8',
                white: '#ffffff',
                text: '#333333',
                muted: '#888888',
                border: '#e5e5e5',
            };

            const systemSize = 60;
            const numPanels = 110;
            const panelWattage = 550;
            const energyRate = 2.6099;
            const ppaStartRate = 1.9574;
            const ppaEscalation = 0.06;
            const gridEscalation = 0.08;

            const seasonalProfiles = {
                summer: { name: 'Summer (December)', psh: 6.5, baseLoadKw: 8, peakLoadKw: 52, visitorFactor: 1.4, openHour: 8.5, closeHour: dayType === 'saturday' ? 14 : 17, sunriseHour: 5.5, sunsetHour: 19.5 },
                winter: { name: 'Winter (June)', psh: 3.3, baseLoadKw: 8, peakLoadKw: 48, visitorFactor: 1.3, openHour: 8.5, closeHour: dayType === 'saturday' ? 14 : 17, sunriseHour: 7.5, sunsetHour: 17.5 }
            };

            const hourlyData = useMemo(() => {
                const profile = seasonalProfiles[viewMode];
                const data = [];
                const solarNoon = 12.5;
                const solarSpread = viewMode === 'winter' ? 3.0 : 4.0;

                for (let hour = 0; hour < 24; hour++) {
                    let loadKw = profile.baseLoadKw;
                    if (hour === Math.floor(profile.openHour)) {
                        loadKw += (profile.peakLoadKw - profile.baseLoadKw) * 0.5;
                    } else if (hour > profile.openHour && hour < profile.closeHour) {
                        const hourInOp = hour - profile.openHour;
                        const opDuration = profile.closeHour - profile.openHour;
                        let visitorCurve = hourInOp < 2 ? 0.5 + hourInOp * 0.2 : hourInOp < opDuration - 2 ? 0.9 + 0.1 * Math.sin((hourInOp - 2) / (opDuration - 4) * Math.PI) : 0.7 - (hourInOp - (opDuration - 2)) * 0.15;
                        loadKw += (profile.peakLoadKw - profile.baseLoadKw) * visitorCurve * profile.visitorFactor;
                    } else if (hour === Math.floor(profile.closeHour)) {
                        loadKw += (profile.peakLoadKw - profile.baseLoadKw) * 0.4;
                    } else if (hour === Math.floor(profile.closeHour) + 1) {
                        loadKw += (profile.peakLoadKw - profile.baseLoadKw) * 0.15;
                    } else if (hour >= 22 || hour < 6) {
                        loadKw = profile.baseLoadKw * 0.9;
                    } else {
                        loadKw = profile.baseLoadKw * 1.1;
                    }

                    let solarKw = 0;
                    let potentialSolar = 0;
                    if (hour >= profile.sunriseHour && hour <= profile.sunsetHour) {
                        const hourDecimal = hour + 0.5;
                        const solarFactor = Math.exp(-Math.pow(hourDecimal - solarNoon, 2) / (2 * Math.pow(solarSpread, 2)));
                        potentialSolar = systemSize * 0.85 * solarFactor;
                        solarKw = Math.min(potentialSolar, loadKw);
                    }

                    data.push({
                        hour,
                        time: `${hour.toString().padStart(2, '0')}:00`,
                        load: Math.round(loadKw * 10) / 10,
                        solar: Math.round(solarKw * 10) / 10,
                        potentialSolar: Math.round(potentialSolar * 10) / 10,
                        curtailed: Math.round(Math.max(0, potentialSolar - loadKw) * 10) / 10,
                        gridImport: Math.round(Math.max(0, loadKw - solarKw) * 10) / 10,
                    });
                }
                return data;
            }, [viewMode, dayType]);

            const dailyTotals = useMemo(() => {
                const totalLoad = hourlyData.reduce((sum, h) => sum + h.load, 0);
                const totalSolar = hourlyData.reduce((sum, h) => sum + h.solar, 0);
                const totalPotential = hourlyData.reduce((sum, h) => sum + h.potentialSolar, 0);
                const totalImport = hourlyData.reduce((sum, h) => sum + h.gridImport, 0);
                const costWithoutSolar = totalLoad * energyRate;
                const costWithSolar = totalImport * energyRate;
                const ppaCost = totalSolar * ppaStartRate;

                return {
                    totalLoad: Math.round(totalLoad),
                    totalSolar: Math.round(totalSolar),
                    totalImport: Math.round(totalImport),
                    selfConsumptionRate: totalPotential > 0 ? Math.round((totalSolar / totalPotential) * 100) : 0,
                    solarCoverage: totalLoad > 0 ? Math.round((totalSolar / totalLoad) * 100) : 0,
                    costWithoutSolar: Math.round(costWithoutSolar),
                    costWithSolar: Math.round(costWithSolar),
                    ppaCost: Math.round(ppaCost),
                    savingsVsGrid: Math.round(costWithoutSolar - costWithSolar),
                    savingsWithPPA: Math.round(costWithoutSolar - (totalImport * energyRate + ppaCost)),
                    peakLoad: Math.max(...hourlyData.map(h => h.load)),
                    peakSolar: Math.max(...hourlyData.map(h => h.solar)),
                };
            }, [hourlyData]);

            const ppaYears = useMemo(() => {
                const years = [];
                let cumSavings = 0;
                for (let year = 1; year <= 20; year++) {
                    const degradation = Math.pow(0.995, year - 1);
                    const annualGen = 89790 * degradation * 0.92;
                    const gridRate = energyRate * Math.pow(1 + gridEscalation, year - 1);
                    const ppaRate = ppaStartRate * Math.pow(1 + ppaEscalation, year - 1);
                    const savings = annualGen * gridRate - annualGen * ppaRate;
                    cumSavings += savings;
                    years.push({ year, gridRate: gridRate.toFixed(2), ppaRate: ppaRate.toFixed(2), savings: Math.round(savings), cumSavings: Math.round(cumSavings) });
                }
                return years;
            }, []);

            const profile = seasonalProfiles[viewMode];

            return (
                <div>
                    <div className="page-header">
                        <h1 className="section-title">EXAMPLE ANALYSIS</h1>
                        <p className="section-subtitle">
                            Interactive system design and financial analysis for a 60kW commercial solar installation
                        </p>
                    </div>

                    <div style={{ backgroundColor: colors.background, padding: '40px 60px' }}>
                        <div style={{ maxWidth: '1400px', margin: '0 auto' }}>

                            {/* Header */}
                            <div style={{ textAlign: 'center', marginBottom: '40px' }}>
                                <h2 style={{ fontSize: '14px', fontWeight: '400', letterSpacing: '6px', color: colors.secondary, textTransform: 'uppercase', marginBottom: '8px' }}>
                                    Sample Commercial Facility
                                </h2>
                                <p style={{ color: colors.muted, fontSize: '13px', letterSpacing: '2px' }}>
                                    60 kWp Solar System — Zero Export Configuration
                                </p>
                            </div>

                            {/* Controls */}
                            <div style={{ backgroundColor: colors.white, borderRadius: '8px', padding: '20px', marginBottom: '24px', display: 'flex', justifyContent: 'center', gap: '16px', flexWrap: 'wrap', alignItems: 'center' }}>
                                <button onClick={() => setViewMode('summer')} style={{ padding: '12px 32px', borderRadius: '4px', border: viewMode === 'summer' ? '2px solid #1a1a1a' : '1px solid #e5e5e5', backgroundColor: viewMode === 'summer' ? '#1a1a1a' : '#fff', color: viewMode === 'summer' ? '#fff' : '#666', fontSize: '12px', fontWeight: '500', letterSpacing: '2px', textTransform: 'uppercase', cursor: 'pointer' }}>Summer</button>
                                <button onClick={() => setViewMode('winter')} style={{ padding: '12px 32px', borderRadius: '4px', border: viewMode === 'winter' ? '2px solid #1a1a1a' : '1px solid #e5e5e5', backgroundColor: viewMode === 'winter' ? '#1a1a1a' : '#fff', color: viewMode === 'winter' ? '#fff' : '#666', fontSize: '12px', fontWeight: '500', letterSpacing: '2px', textTransform: 'uppercase', cursor: 'pointer' }}>Winter</button>
                                <label style={{ display: 'flex', alignItems: 'center', gap: '8px', cursor: 'pointer', marginLeft: '24px' }}>
                                    <input type="checkbox" checked={showPPA} onChange={(e) => setShowPPA(e.target.checked)} style={{ width: '16px', height: '16px', accentColor: '#1a1a1a' }} />
                                    <span style={{ color: colors.secondary, fontSize: '13px' }}>Show PPA Analysis</span>
                                </label>
                                <div style={{ display: 'flex', gap: '8px', marginLeft: '24px', padding: '4px', backgroundColor: colors.background, borderRadius: '4px' }}>
                                    <button onClick={() => setDayType('weekday')} style={{ padding: '8px 16px', borderRadius: '3px', border: 'none', backgroundColor: dayType === 'weekday' ? '#1a1a1a' : 'transparent', color: dayType === 'weekday' ? '#fff' : '#666', fontSize: '11px', fontWeight: '500', cursor: 'pointer' }}>Weekday</button>
                                    <button onClick={() => setDayType('saturday')} style={{ padding: '8px 16px', borderRadius: '3px', border: 'none', backgroundColor: dayType === 'saturday' ? '#1a1a1a' : 'transparent', color: dayType === 'saturday' ? '#fff' : '#666', fontSize: '11px', fontWeight: '500', cursor: 'pointer' }}>Saturday</button>
                                </div>
                            </div>

                            {/* KPI Cards */}
                            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(180px, 1fr))', gap: '16px', marginBottom: '24px' }}>
                                {[
                                    { label: 'DAILY LOAD', value: `${dailyTotals.totalLoad} kWh`, sub: 'Total consumption' },
                                    { label: 'SOLAR USED', value: `${dailyTotals.totalSolar} kWh`, sub: 'Self-consumed' },
                                    { label: 'SELF-CONSUMPTION', value: `${dailyTotals.selfConsumptionRate}%`, sub: 'Utilization rate' },
                                    { label: 'SOLAR COVERAGE', value: `${dailyTotals.solarCoverage}%`, sub: 'Of total load' },
                                    { label: 'GRID IMPORT', value: `${dailyTotals.totalImport} kWh`, sub: 'From utility' },
                                    { label: 'DAILY SAVINGS', value: `R ${dailyTotals.savingsVsGrid}`, sub: 'vs. no solar' },
                                ].map((item, i) => (
                                    <div key={i} style={{ backgroundColor: colors.white, borderRadius: '8px', padding: '20px', textAlign: 'center' }}>
                                        <div style={{ fontSize: '10px', fontWeight: '500', letterSpacing: '2px', color: colors.muted, marginBottom: '8px' }}>{item.label}</div>
                                        <div style={{ fontSize: '28px', fontWeight: '300', color: colors.primary, marginBottom: '4px' }}>{item.value}</div>
                                        <div style={{ fontSize: '11px', color: colors.light }}>{item.sub}</div>
                                    </div>
                                ))}
                            </div>

                            {/* Season Info */}
                            <div style={{ backgroundColor: colors.white, borderRadius: '8px', padding: '24px', marginBottom: '24px', borderLeft: '4px solid #1a1a1a' }}>
                                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(140px, 1fr))', gap: '24px', textAlign: 'center' }}>
                                    <div><div style={{ fontSize: '10px', letterSpacing: '2px', color: colors.muted, marginBottom: '4px' }}>SEASON</div><div style={{ fontSize: '16px', fontWeight: '500', color: colors.primary }}>{profile.name}</div></div>
                                    <div><div style={{ fontSize: '10px', letterSpacing: '2px', color: colors.muted, marginBottom: '4px' }}>PEAK SUN HOURS</div><div style={{ fontSize: '24px', fontWeight: '300', color: colors.primary }}>{profile.psh}</div></div>
                                    <div><div style={{ fontSize: '10px', letterSpacing: '2px', color: colors.muted, marginBottom: '4px' }}>PEAK LOAD</div><div style={{ fontSize: '24px', fontWeight: '300', color: colors.primary }}>{dailyTotals.peakLoad} kW</div></div>
                                    <div><div style={{ fontSize: '10px', letterSpacing: '2px', color: colors.muted, marginBottom: '4px' }}>PEAK SOLAR</div><div style={{ fontSize: '24px', fontWeight: '300', color: colors.primary }}>{dailyTotals.peakSolar} kW</div></div>
                                    <div><div style={{ fontSize: '10px', letterSpacing: '2px', color: colors.muted, marginBottom: '4px' }}>OPERATING</div><div style={{ fontSize: '16px', fontWeight: '400', color: colors.primary }}>{dayType === 'saturday' ? '08:30 – 14:00' : '08:30 – 17:00'}</div><div style={{ fontSize: '11px', color: colors.light, marginTop: '2px' }}>{dayType === 'saturday' ? 'Saturday' : 'Mon – Fri'}</div></div>
                                </div>
                            </div>

                            {/* Main Chart */}
                            <div style={{ backgroundColor: colors.white, borderRadius: '8px', padding: '24px', marginBottom: '24px' }}>
                                <h2 style={{ fontSize: '11px', fontWeight: '500', letterSpacing: '3px', color: colors.secondary, marginBottom: '24px', textTransform: 'uppercase' }}>Daily Load vs Solar Generation — Zero Export</h2>
                                <ResponsiveContainer width="100%" height={380}>
                                    <ComposedChart data={hourlyData}>
                                        <CartesianGrid strokeDasharray="3 3" stroke={colors.border} />
                                        <XAxis dataKey="time" stroke={colors.muted} tick={{ fontSize: 11 }} />
                                        <YAxis stroke={colors.muted} tick={{ fontSize: 11 }} label={{ value: 'kW', angle: -90, position: 'insideLeft', fill: colors.muted, fontSize: 11 }} />
                                        <Tooltip />
                                        <Legend wrapperStyle={{ paddingTop: '20px' }} />
                                        <Area type="monotone" dataKey="potentialSolar" name="Potential Solar" fill={colors.light} fillOpacity={0.2} stroke={colors.light} strokeWidth={1} strokeDasharray="5 5" />
                                        <Line type="monotone" dataKey="load" name="Building Load" stroke={colors.secondary} strokeWidth={2} dot={false} />
                                        <Area type="monotone" dataKey="solar" name="Solar Used" fill={colors.primary} fillOpacity={0.3} stroke={colors.primary} strokeWidth={2} />
                                        <Area type="monotone" dataKey="curtailed" name="Curtailed" fill="#cc0000" fillOpacity={0.3} stroke="#cc0000" strokeWidth={1} />
                                    </ComposedChart>
                                </ResponsiveContainer>
                            </div>

                            {/* Cost Comparison */}
                            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))', gap: '24px', marginBottom: '24px' }}>
                                <div style={{ backgroundColor: colors.white, borderRadius: '8px', padding: '24px' }}>
                                    <h2 style={{ fontSize: '11px', fontWeight: '500', letterSpacing: '3px', color: colors.secondary, marginBottom: '24px', textTransform: 'uppercase' }}>Hourly Grid Import</h2>
                                    <ResponsiveContainer width="100%" height={240}>
                                        <BarChart data={hourlyData}>
                                            <CartesianGrid strokeDasharray="3 3" stroke={colors.border} />
                                            <XAxis dataKey="time" stroke={colors.muted} tick={{ fontSize: 9 }} />
                                            <YAxis stroke={colors.muted} tick={{ fontSize: 10 }} />
                                            <Tooltip />
                                            <Bar dataKey="gridImport" name="Grid Import" fill={colors.secondary} radius={[2, 2, 0, 0]} />
                                        </BarChart>
                                    </ResponsiveContainer>
                                </div>
                                <div style={{ backgroundColor: colors.white, borderRadius: '8px', padding: '24px' }}>
                                    <h2 style={{ fontSize: '11px', fontWeight: '500', letterSpacing: '3px', color: colors.secondary, marginBottom: '24px', textTransform: 'uppercase' }}>Daily Cost Comparison</h2>
                                    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
                                        {[
                                            { label: 'Without Solar', value: dailyTotals.costWithoutSolar, percent: 100, color: colors.muted },
                                            { label: 'Cash Purchase', value: dailyTotals.costWithSolar, percent: (dailyTotals.costWithSolar / dailyTotals.costWithoutSolar) * 100, color: colors.secondary },
                                            { label: 'PPA Option', value: dailyTotals.costWithSolar + dailyTotals.ppaCost, percent: ((dailyTotals.costWithSolar + dailyTotals.ppaCost) / dailyTotals.costWithoutSolar) * 100, color: colors.primary },
                                        ].map((item, i) => (
                                            <div key={i}>
                                                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '6px' }}>
                                                    <span style={{ fontSize: '12px', color: colors.text }}>{item.label}</span>
                                                    <span style={{ fontSize: '13px', fontWeight: '500', color: colors.primary }}>R {item.value}</span>
                                                </div>
                                                <div style={{ height: '8px', backgroundColor: colors.background, borderRadius: '4px', overflow: 'hidden' }}>
                                                    <div style={{ height: '100%', width: `${item.percent}%`, backgroundColor: item.color, borderRadius: '4px' }}></div>
                                                </div>
                                            </div>
                                        ))}
                                        <div style={{ borderTop: '1px solid #e5e5e5', paddingTop: '16px', marginTop: '8px', display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>
                                            <div><div style={{ fontSize: '10px', letterSpacing: '1px', color: colors.muted, marginBottom: '4px' }}>CASH SAVINGS</div><div style={{ fontSize: '20px', fontWeight: '400', color: colors.primary }}>R {dailyTotals.savingsVsGrid}</div></div>
                                            <div><div style={{ fontSize: '10px', letterSpacing: '1px', color: colors.muted, marginBottom: '4px' }}>PPA SAVINGS</div><div style={{ fontSize: '20px', fontWeight: '400', color: colors.primary }}>R {dailyTotals.savingsWithPPA}</div></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* PPA Analysis */}
                            {showPPA && (
                                <div style={{ backgroundColor: colors.white, borderRadius: '8px', padding: '24px', marginBottom: '24px' }}>
                                    <h2 style={{ fontSize: '11px', fontWeight: '500', letterSpacing: '3px', color: colors.secondary, marginBottom: '24px', textTransform: 'uppercase' }}>20-Year PPA vs Grid Rate Projection</h2>
                                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))', gap: '24px' }}>
                                        <ResponsiveContainer width="100%" height={280}>
                                            <LineChart data={ppaYears}>
                                                <CartesianGrid strokeDasharray="3 3" stroke={colors.border} />
                                                <XAxis dataKey="year" stroke={colors.muted} tick={{ fontSize: 10 }} />
                                                <YAxis stroke={colors.muted} tick={{ fontSize: 10 }} />
                                                <Tooltip />
                                                <Legend />
                                                <Line type="monotone" dataKey="gridRate" name="Grid Rate (8%)" stroke={colors.muted} strokeWidth={2} dot={false} />
                                                <Line type="monotone" dataKey="ppaRate" name="PPA Rate (6%)" stroke={colors.primary} strokeWidth={2} dot={false} />
                                            </LineChart>
                                        </ResponsiveContainer>
                                        <ResponsiveContainer width="100%" height={280}>
                                            <AreaChart data={ppaYears}>
                                                <CartesianGrid strokeDasharray="3 3" stroke={colors.border} />
                                                <XAxis dataKey="year" stroke={colors.muted} tick={{ fontSize: 10 }} />
                                                <YAxis stroke={colors.muted} tick={{ fontSize: 10 }} tickFormatter={(v) => `R${(v/1000000).toFixed(1)}M`} />
                                                <Tooltip formatter={(v) => `R ${v.toLocaleString()}`} />
                                                <Legend />
                                                <Area type="monotone" dataKey="cumSavings" name="Cumulative Savings" fill={colors.primary} fillOpacity={0.2} stroke={colors.primary} strokeWidth={2} />
                                            </AreaChart>
                                        </ResponsiveContainer>
                                    </div>
                                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(180px, 1fr))', gap: '16px', marginTop: '24px', paddingTop: '24px', borderTop: '1px solid #e5e5e5' }}>
                                        {[
                                            { label: 'DAY 1 PPA RATE', value: 'R 1.96/kWh', sub: '25% below grid' },
                                            { label: 'YEAR 10 PPA RATE', value: 'R 3.50/kWh', sub: 'vs R 5.63 grid' },
                                            { label: 'YEAR 20 PPA RATE', value: 'R 6.28/kWh', sub: 'vs R 12.16 grid' },
                                            { label: '20-YEAR SAVINGS', value: 'R 3.67M', sub: 'NPV: R 1.14M' },
                                        ].map((item, i) => (
                                            <div key={i} style={{ textAlign: 'center' }}>
                                                <div style={{ fontSize: '10px', letterSpacing: '1px', color: colors.muted, marginBottom: '8px' }}>{item.label}</div>
                                                <div style={{ fontSize: '20px', fontWeight: '400', color: colors.primary }}>{item.value}</div>
                                                <div style={{ fontSize: '11px', color: colors.light }}>{item.sub}</div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}

                            {/* Financing Options */}
                            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(350px, 1fr))', gap: '24px', marginBottom: '24px' }}>
                                <div style={{ backgroundColor: colors.white, borderRadius: '8px', padding: '24px', borderTop: '4px solid #666' }}>
                                    <h3 style={{ fontSize: '11px', fontWeight: '500', letterSpacing: '3px', color: colors.secondary, marginBottom: '20px', textTransform: 'uppercase' }}>Option A: Cash Purchase</h3>
                                    <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>
                                        {[{ label: 'Total Investment', value: 'R 916,407' }, { label: 'Year 1 Savings', value: '~R 215,000' }, { label: 'Payback Period', value: '~4.3 years' }].map((item, i) => (
                                            <div key={i} style={{ display: 'flex', justifyContent: 'space-between' }}>
                                                <span style={{ color: colors.secondary, fontSize: '13px' }}>{item.label}</span>
                                                <span style={{ color: colors.primary, fontWeight: '500', fontSize: '13px' }}>{item.value}</span>
                                            </div>
                                        ))}
                                        <div style={{ borderTop: '1px solid #e5e5e5', paddingTop: '12px', marginTop: '8px' }}>
                                            <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                                                <span style={{ color: colors.text, fontWeight: '500' }}>20-Year Net Benefit</span>
                                                <span style={{ color: colors.primary, fontWeight: '600', fontSize: '18px' }}>~R 8.4M</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div style={{ backgroundColor: colors.white, borderRadius: '8px', padding: '24px', borderTop: '4px solid #1a1a1a' }}>
                                    <h3 style={{ fontSize: '11px', fontWeight: '500', letterSpacing: '3px', color: colors.secondary, marginBottom: '20px', textTransform: 'uppercase' }}>Option B: PPA (Zero Upfront)</h3>
                                    <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>
                                        {[{ label: 'Upfront Cost', value: 'R 0' }, { label: 'Starting Rate', value: 'R 1.96/kWh (25% off)' }, { label: 'Annual Escalation', value: '6% (vs 8% grid)' }].map((item, i) => (
                                            <div key={i} style={{ display: 'flex', justifyContent: 'space-between' }}>
                                                <span style={{ color: colors.secondary, fontSize: '13px' }}>{item.label}</span>
                                                <span style={{ color: colors.primary, fontWeight: '500', fontSize: '13px' }}>{item.value}</span>
                                            </div>
                                        ))}
                                        <div style={{ borderTop: '1px solid #e5e5e5', paddingTop: '12px', marginTop: '8px' }}>
                                            <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                                                <span style={{ color: colors.text, fontWeight: '500' }}>20-Year Savings</span>
                                                <span style={{ color: colors.primary, fontWeight: '600', fontSize: '18px' }}>R 3.67M</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Footer */}
                            <div style={{ textAlign: 'center', padding: '24px 0', borderTop: '1px solid #e5e5e5', marginTop: '24px' }}>
                                <p style={{ color: colors.muted, fontSize: '11px', letterSpacing: '1px', marginBottom: '4px' }}>
                                    60 kWp · {numPanels} × {panelWattage}W Panels · 2 × 30kW Solis Inverters · Zero Export
                                </p>
                                <p style={{ color: colors.light, fontSize: '11px' }}>
                                    Example System Design & Financial Analysis
                                </p>
                            </div>
                        </div>
                    </div>

                    <div className="cta-banner">
                        <p>Want a custom analysis like this for your facility? Get in touch.</p>
                        <div className="hero-buttons" style={{justifyContent: 'center', marginTop: '20px'}}>
                            <a className="cta-button primary" href="mailto:admin@solarstitch.co.za">Get a Free Energy Audit</a>
                            <a className="cta-button" href="mailto:admin@solarstitch.co.za">Talk to Our Team</a>
                        </div>
                    </div>
                </div>
            );
        }

        function CalculatorPage({ navigateTo }) {
            const { useState, useMemo } = React;

            // Input state
            const [clientType, setClientType] = useState('residential');
            const [monthlyKwh, setMonthlyKwh] = useState('');
            const [monthlyBill, setMonthlyBill] = useState('');
            const [includeBattery, setIncludeBattery] = useState(false);
            const [backupHours, setBackupHours] = useState(8);

            // Client type configurations
            const clientConfig = {
                residential: {
                    label: 'Residential',
                    solarMatchFactor: 1.0,
                    operatingHours: 16,
                    placeholder: 'e.g. 800',
                    description: 'Homes typically use 500-1500 kWh/month'
                },
                smallCommercial: {
                    label: 'Small Commercial',
                    solarMatchFactor: 0.9,
                    operatingHours: 10,
                    placeholder: 'e.g. 5000',
                    description: 'Small businesses typically use 2000-10000 kWh/month'
                },
                largeCommercial: {
                    label: 'Large Commercial',
                    solarMatchFactor: 0.85,
                    operatingHours: 16,
                    placeholder: 'e.g. 25000',
                    description: 'Industrial facilities typically use 10000-50000+ kWh/month'
                }
            };

            // Solar calculation constants
            const PEAK_SUN_HOURS = 4.5;
            const SYSTEM_LOSSES = 0.80;
            const PANEL_WATTAGE = 550;
            const CO2_PER_KWH = 0.9;
            const TREES_PER_TON_CO2 = 16.5;
            const DOD_BUFFER = 1.2;

            // Calculate results
            const results = useMemo(() => {
                const kwh = parseFloat(monthlyKwh) || 0;
                if (kwh <= 0) return null;

                const config = clientConfig[clientType];

                // Solar sizing
                const dailyUsage = kwh / 30;
                const requiredKwp = (dailyUsage / PEAK_SUN_HOURS / SYSTEM_LOSSES) * config.solarMatchFactor;
                const panelCount = Math.ceil((requiredKwp * 1000) / PANEL_WATTAGE);
                const actualKwp = (panelCount * PANEL_WATTAGE) / 1000;
                const annualProduction = actualKwp * PEAK_SUN_HOURS * 365 * SYSTEM_LOSSES;

                // Battery sizing
                const hourlyLoad = dailyUsage / config.operatingHours;
                const batteryKwh = includeBattery ? Math.ceil(hourlyLoad * backupHours * DOD_BUFFER) : 0;

                // Environmental impact
                const co2OffsetTons = (annualProduction * CO2_PER_KWH) / 1000;
                const treesEquivalent = Math.round(co2OffsetTons * TREES_PER_TON_CO2);

                // Bill coverage estimate (assuming average R2.50/kWh)
                const avgRate = 2.50;
                const estimatedBill = monthlyBill ? parseFloat(monthlyBill) : kwh * avgRate;
                const solarCoveragePercent = Math.min(100, Math.round((annualProduction / 12 / kwh) * 100));

                return {
                    systemKwp: actualKwp.toFixed(1),
                    panelCount,
                    annualProduction: Math.round(annualProduction),
                    batteryKwh,
                    co2OffsetTons: co2OffsetTons.toFixed(1),
                    treesEquivalent,
                    solarCoveragePercent,
                    dailyUsage: dailyUsage.toFixed(1)
                };
            }, [monthlyKwh, clientType, includeBattery, backupHours, monthlyBill]);

            return (
                <div>
                    <div className="page-header">
                        <h1 className="section-title">SOLAR CALCULATOR</h1>
                        <p className="section-subtitle">
                            Estimate the right solar system size for your energy needs
                        </p>
                    </div>

                    <section style={{background: 'var(--off-white)', padding: '80px 60px'}}>
                        <div style={{maxWidth: '800px', margin: '0 auto'}}>

                            {/* Client Type Selection */}
                            <div className="calculator-input-group">
                                <label>What type of property is this for?</label>
                                <div className="calculator-toggle-group">
                                    {Object.entries(clientConfig).map(([key, config]) => (
                                        <button
                                            key={key}
                                            className={`calculator-toggle ${clientType === key ? 'active' : ''}`}
                                            onClick={() => setClientType(key)}
                                        >
                                            {config.label}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            {/* Monthly kWh Input */}
                            <div className="calculator-input-group">
                                <label>Monthly electricity usage (kWh)</label>
                                <input
                                    type="number"
                                    className="calculator-input"
                                    placeholder={clientConfig[clientType].placeholder}
                                    value={monthlyKwh}
                                    onChange={(e) => setMonthlyKwh(e.target.value)}
                                    min="0"
                                />
                                <p style={{fontSize: '0.85em', color: 'var(--mid-gray)', marginTop: '8px', fontWeight: '300'}}>
                                    {clientConfig[clientType].description}
                                </p>
                            </div>

                            {/* Monthly Bill Input (Optional) */}
                            <div className="calculator-input-group">
                                <label>Monthly electricity bill in Rands (optional)</label>
                                <input
                                    type="number"
                                    className="calculator-input"
                                    placeholder="e.g. 2500"
                                    value={monthlyBill}
                                    onChange={(e) => setMonthlyBill(e.target.value)}
                                    min="0"
                                />
                                <p style={{fontSize: '0.85em', color: 'var(--mid-gray)', marginTop: '8px', fontWeight: '300'}}>
                                    Used to estimate your potential savings
                                </p>
                            </div>

                            {/* Battery Option */}
                            <div className="calculator-input-group">
                                <label className="calculator-checkbox">
                                    <input
                                        type="checkbox"
                                        checked={includeBattery}
                                        onChange={(e) => setIncludeBattery(e.target.checked)}
                                    />
                                    Include battery storage for backup power
                                </label>
                            </div>

                            {/* Backup Hours Selection */}
                            {includeBattery && (
                                <div className="calculator-input-group" style={{marginLeft: '32px'}}>
                                    <label>How many hours of backup do you need?</label>
                                    <div className="calculator-toggle-group">
                                        {[4, 8, 12, 24].map((hours) => (
                                            <button
                                                key={hours}
                                                className={`calculator-toggle ${backupHours === hours ? 'active' : ''}`}
                                                onClick={() => setBackupHours(hours)}
                                            >
                                                {hours}h
                                            </button>
                                        ))}
                                    </div>
                                    <p style={{fontSize: '0.85em', color: 'var(--mid-gray)', marginTop: '8px', fontWeight: '300'}}>
                                        {backupHours <= 4 ? 'Essential load backup during load shedding' :
                                         backupHours <= 8 ? 'Extended backup for most load shedding events' :
                                         backupHours <= 12 ? 'Full day coverage with margin' :
                                         'Near-complete energy independence'}
                                    </p>
                                </div>
                            )}
                        </div>
                    </section>

                    {/* Results Section */}
                    {results && (
                        <section style={{padding: '80px 60px'}}>
                            <div style={{maxWidth: '1200px', margin: '0 auto'}}>
                                <h2 className="section-title" style={{textAlign: 'center', marginBottom: '60px'}}>
                                    YOUR ESTIMATED SYSTEM
                                </h2>

                                <div className="calculator-results">
                                    {/* System Size Card */}
                                    <div className="calculator-result-card">
                                        <div className="calculator-result-label">Recommended System Size</div>
                                        <div className="calculator-result-value">{results.systemKwp}</div>
                                        <div className="calculator-result-unit">kWp</div>
                                        <div className="calculator-result-detail">
                                            {results.panelCount} × {PANEL_WATTAGE}W panels
                                        </div>
                                    </div>

                                    {/* Annual Production Card */}
                                    <div className="calculator-result-card">
                                        <div className="calculator-result-label">Annual Production</div>
                                        <div className="calculator-result-value">{(results.annualProduction / 1000).toFixed(1)}</div>
                                        <div className="calculator-result-unit">MWh / year</div>
                                        <div className="calculator-result-detail">
                                            ~{Math.round(results.annualProduction / 12)} kWh per month
                                        </div>
                                    </div>

                                    {/* Battery Card */}
                                    {includeBattery && (
                                        <div className="calculator-result-card">
                                            <div className="calculator-result-label">Battery Capacity</div>
                                            <div className="calculator-result-value">{results.batteryKwh}</div>
                                            <div className="calculator-result-unit">kWh</div>
                                            <div className="calculator-result-detail">
                                                {backupHours} hours backup at average load
                                            </div>
                                        </div>
                                    )}

                                    {/* Solar Coverage Card */}
                                    <div className="calculator-result-card">
                                        <div className="calculator-result-label">Estimated Solar Coverage</div>
                                        <div className="calculator-result-value">{results.solarCoveragePercent}</div>
                                        <div className="calculator-result-unit">% of usage</div>
                                        <div className="calculator-result-detail">
                                            During daylight hours
                                        </div>
                                    </div>

                                    {/* Environmental Impact Card */}
                                    <div className="calculator-result-card">
                                        <div className="calculator-result-label">CO₂ Offset Per Year</div>
                                        <div className="calculator-result-value">{results.co2OffsetTons}</div>
                                        <div className="calculator-result-unit">tons</div>
                                        <div className="calculator-result-detail">
                                            Equivalent to {results.treesEquivalent} trees planted
                                        </div>
                                    </div>
                                </div>

                                <div style={{
                                    marginTop: '60px',
                                    padding: '30px',
                                    background: 'var(--off-white)',
                                    textAlign: 'center'
                                }}>
                                    <p style={{fontSize: '0.9em', color: 'var(--mid-gray)', fontWeight: '300', lineHeight: '1.8'}}>
                                        These are estimates based on typical South African conditions.
                                        Actual system sizing depends on your roof space, orientation, shading,
                                        and specific energy usage patterns. Contact us for a detailed assessment.
                                    </p>
                                </div>
                            </div>
                        </section>
                    )}

                    {/* CTA Banner */}
                    <div className="cta-banner">
                        <p>Ready for an accurate quote? We'll assess your site and energy needs.</p>
                        <div className="hero-buttons" style={{justifyContent: 'center', marginTop: '20px'}}>
                            <a className="cta-button primary" href="mailto:admin@solarstitch.co.za">Get a Free Energy Audit</a>
                            <a className="cta-button" href="mailto:admin@solarstitch.co.za">Talk to Our Team</a>
                        </div>
                    </div>
                </div>
            );
        }

        function Footer() {
            return (
                <footer>
                    <p>© 2025 Solar Stitch</p>
                    <p style={{marginTop: '15px', fontSize: '0.9em'}}>
                        Stitch. Optimize. Power.
                    </p>
                    <p style={{marginTop: '20px', fontSize: '0.85em'}}>
                        Energy metering & analytics powered by{' '}
                        <a href="https://phy.engineering" target="_blank" rel="noopener noreferrer" style={{color: 'var(--light-gray)', textDecoration: 'underline'}}>
                            Phy Engineering
                        </a>
                    </p>
                </footer>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
